// String Scoring Algorithm 0.1.22 | (c) 2009-2015 Joshaven Potter <yourtech@gmail.com>
// MIT License: http://opensource.org/licenses/MIT | https://github.com/joshaven/string_score
String.prototype.score=function(r,t){"use strict";if(this===r)return 1;if(""===r)return 0;var e,n,i,o,u,f=0,s=this,a=s.toLowerCase(),c=s.length,l=r.toLowerCase(),h=r.length,p=0,g=1;if(t&&(o=1-t),t)for(u=0;h>u;u+=1)i=a.indexOf(l[u],p),-1===i?g+=o:(p===i?e=.7:(e=.1," "===s[i-1]&&(e+=.8)),s[i]===r[u]&&(e+=.1),f+=e,p=i+1);else for(u=0;h>u;u+=1){if(i=a.indexOf(l[u],p),-1===i)return 0;p===i?e=.7:(e=.1," "===s[i-1]&&(e+=.8)),s[i]===r[u]&&(e+=.1),f+=e,p=i+1}return n=.5*(f/c+f/h)/g,l[0]===a[0]&&.85>n&&(n+=.15),n},String.prototype.closest=function(r,t,e){"use strict";function n(t){for(var e=0;e<i.length;e++)if(r[i[e]]==t)return!1;return!0}if(!Array.isArray(r)||r.length<2)return-1;var i=[],o=this;if(e)var u=r.map(function(r){return r.score(o,t)});else var u=r.map(function(r){return o.score(r,t)});for(var f=Math.max.apply(null,u),s=0;s<u.length;s++)u[s]==f&&n(r[s])&&i.push(s);return i};
